@use 'sass:math'
@import '../theme'
@import '../animations'

.root
  flex: 1
  display: flex
  justify-content: center
  align-items: center

.board
  width: clamp(300px, 350px, 100%)
  display: grid
  grid-template-columns: repeat(6, 1fr)
  gap: spacing(1.5)

  .row
    display: contents

    .tile
      aspect-ratio: 1
      display: flex
      justify-content: center
      align-items: center
      text-transform: uppercase
      font-size: 1.5rem
      font-weight: map-get($typography, 'fontWeight', bold)
      background-color: #7f7f7f00 // TRANS 1
      border: 2px solid palette(background, paper2)
      color: palette(text, primary)
      transition: background-color 200ms ease-in-out

      &.absent, &.present, &.correct
        animation: flip $flip-duration ease-in-out forwards
        transition: background-color 0ms, border 0ms

      @for $i from 1 through 6
        &.absent:nth-child(#{$i}), 
        &.present:nth-child(#{$i}), 
        &.correct:nth-child(#{$i})
          animation-delay: $flip-duration * $i

      @each $state in $flip-states
        &.#{$state}
          animation: flip-#{$state} $flip-duration ease-in-out forwards

      &.error
        background-color: palette(tile, error) // TRANS .5

      &.entered
        animation: tile-fill 100ms ease-in-out forwards
        border: 2px solid palette(background, paper)